<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>reveal.js</title>

	<link rel="stylesheet" href="dist/reset.css">
	<link rel="stylesheet" href="dist/reveal.css">
	<link rel="stylesheet" href="dist/theme/kotlin.css">

	<!-- Theme used for syntax highlighted code -->
	<link rel="stylesheet" href="plugin/highlight/vs.css">
</head>
<body>
<div class="reveal">
	<div class="slides">
		<section data-background-gradient="var(--kotlin-gradient)">
			<i>Week 2 | Lesson 7</i>
			<h1>Standard Kotlin Library</h1>
			<em>kotlinx.datetime</em><br />
			<em>input output</em><br />
			<em>files</em><br />
		</section>
		<section>
			<section data-background-gradient="var(--kotlin-gradient)">
				<h2>Standard Java Libraries</h2>
			</section>
			<section>
				<h3>Java Standard Libraries</h3>
				<p>
					Java comes with many built-in libraries to make our lives as developers easier.
				</p>
				<p>Some notable libraries:</p>
				<ul style="font-size: 80%">
					<li>
						<strong>java.lang</strong>
						<div>
							Provides classes that are fundamental to the design of the Java programming language.
							This is automatically imported into every Java program.
						</div>
					</li>
					<li>
						<strong>java.util</strong>
						<div>Contains the collections framework, legacy collection classes, event model, date and time facilities, internationalization, and miscellaneous utility classes (a string tokenizer, a random-number generator, and a bit array).</div>
					</li>
					<li>
						<strong>java.math</strong>
						<div>The class Math contains methods for performing basic numeric operations.</div>
					</li>
					<li>
						<strong>java.io</strong>
						<div>Provides for system input and output through data streams, serialization and the file system.</div>
					</li>
					<li>
						<strong>java.net</strong>
						<div>Provides the classes for implementing networking applications.</div>
					</li>
					<li>
						<strong>java.sql</strong>
						<div>Provides the API for accessing and processing data stored in a data source (usually a relational database).</div>
					</li>
					<li>
						<strong>java.time</strong>
						<div>
							Provides classes for working with dates, times, instants, and durations.
							Introduced in Java 8 to replace the older (amd widely criticizes) date and time classes
							found in the java.common.
						</div>
					</li>
				</ul>
			</section>
		</section>
		<section>
			<section data-background-gradient="var(--kotlin-gradient)">
				<h2>Java Math</h2>
				<em>java.lang</em>
			</section>
			<section>
				<h3>Math</h3>
				<p>
					The <strong>java.lang</strong> package provides us with tools to work with numbers and perform basic numeric operations.
				</p>
				<hr />
				<p>
					Math is a static class and provides methods such as <code>abs()</code>, <code>max()</code>,
					<code>min()</code>, <code>pow()</code>, <code>sqrt()</code>, <code>cbrt()</code>,
					<code>random()</code>, <code>round()</code>, <code>floor()</code>, <code>ceil()</code>, and many more.
				</p>
				<p>
					See <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html">Java SE 8 documentation</a> for more details.
				</p>
				<pre>
					<code data-trim data-noescape data-line-numbers class="hljs kotlin">
						double a = 3.14;
						double b = -3.14;

						double abs = Math.abs(b);
						System.out.println("Absolute value of " + b + " is " + abs);

						double max = Math.max(a, b);
						System.out.println("Max value of " + a + "and " + b + " is " + max);

						double min = Math.min(a, b);
						System.out.println("Min value of " + a + "and " + b + " is " + min);

						double pow = Math.pow(2, 3);
						System.out.println("2 to the power of 3 is " + pow);

						double sqrt = Math.sqrt(16);
						System.out.println("Square root of 16 is " + sqrt);

						double random = Math.random();
						System.out.println("Random number between 0 and 1 is " + random);
					</code>
				</pre>
			</section>
			<section>
				<h3>BigDecimal</h3>
				<p>
					Part of the <strong>java.math</strong> package,
					<strong>BigDecimal</strong> is a class that provides arbitrary-precision signed decimal numbers.
				</p>
				<p>
					So far we used <strong>double</strong> and <strong>float</strong> to represent floating point numbers,
					but these types have limitations in terms of precision and rounding errors.
				</p>
				<p>
					<code>BigDecimal</code> is better choice when we need to represent numbers with high precision, such as when working with very large or very small numbers.
				</p>
				<p>
					It's use, however, comes with a cost of performance and memory consumption.
				</p>
				<p>
					It has methods such as <code>add()</code>, <code>subtract()</code>, <code>multiply()</code>, <code>divide()</code>, <code>pow()</code>, <code>sqrt()</code>, <code>cbrt()</code>,
				</p>
				<pre>
					<code data-trim data-noescape data-line-numbers class="hljs kotlin">
						// parse big decimal from string
						BigDecimal radius = new BigDecimal("987654321.12345678901234567890");

						// get big decimal value from other types
						BigDecimal two = BigDecimal.valueOf(2);

						// get big decimal representation of pi
						BigDecimal pi = BigDecimal.valueOf(Math.PI);

						var circleCircumference = two.multiply(pi).multiply(radius);

						System.out.println(circleCircumference); // 6205615119.05533231868504652218099103339093540
					</code>
				</pre>
			</section>
		</section>
		<section>
			<section data-background-gradient="var(--kotlin-gradient)">
				<h2>Java Optional</h2>
				<em>java.util</em>
			</section>
			<section>
				<h3>Java Optional</h3>
				<em>
					<strong>Optional</strong> is a container object which may or may not contain a non-null value.
				</em>
				<hr />
				<p>
					Its purpose is to provide a type-level solution for representing optional values instead of using <strong>null</strong>.

				</p>
				<p>
					It forces the user to think about the possibility of a value being absent by requiring the user to explicitly unwrap the value.
				</p>
				<p>
					This in contrast, null values can be accessed without any checks and therefore can lead to <strong>NullPointerException</strong>.
				</p>
				<hr />
				<p>
					It was introduced in <strong>Java 8</strong> and resides in <code>java.util</code> package.
				</p>
			</section>
			<section>
				<h4>Java Optional</h4>
				<pre>OptionalExample.java
					<code data-trim data-noescape data-line-numbers class="hljs kotlin">
						public class OptionalExample {

							public static void main(String[] args) {

								// create an instance of Optional
								Optional&lt;String&gt; optional = Optional.ofNullable(getRandomValue());

								// check if the value is present
								boolean isPresent = optional.isPresent();
								System.out.println("Value is present: " + isPresent);

								// you can also use orElse method to provide a default value
								String result = optional.orElse("Optional is cool!");
								System.out.println("Value: " + result);

								// or in a functional way
								String result2 = optional.orElseGet(() -> "Optional is cool!");
								System.out.println("Value: " + result2);

								try {
									// or to throw an exception if the value is not present
									optional.orElseThrow(() -> new RuntimeException("Value was not present"));
								} catch (RuntimeException e) {
									System.out.println(e.getMessage());
								}
							}

							private static String getRandomValue() {
								List&lt;String&gt; values = Arrays.asList(null, "Java is fun!");
								return values.get(new Random().nextInt(values.size()));
							}

						}
					</code>
				</pre>
			</section>
		</section>
		<section>
			<section data-background-gradient="var(--kotlin-gradient)">
				<h2>Java Time</h2>
				<em>java.time</em>
			</section>
			<section>
				<h3>Java Time</h3>
				<hr />
				<p>
					The <strong>java.time</strong> package provides us with tools to work with dates, time, intervals and durations.
				</p>
				<hr />
				<p>
					As already mentioned, it replaced date and time related tools from <strong>java.util</strong>, which was not well-designed,
					was cumbersome to use, did not provide good way fo handling time zones and was not thread safe (!!!).
					<br />
					<br />
					For these reasons, it was often substituted with 3rd party libraries such as <strong>joda.time</strong>.
				</p>
				<p>
					The current <strong>java.time</strong> package, however, is generally considered to be good implementation
					and you should be using it whenever you are working with Java 8 newer.
				</p>
				<blockquote>
					Note that most classes in <strong>java.time</strong> are nice examples of implementations using static inner classes.
				</blockquote>
			</section>

			<section>
				<h4>Java Time</h4>
				<p>
					Here are the tools you will find in <strong>java.time</strong>.
				</p>
				<table style="font-size: 70%">
					<tbody>
					<tr>
						<td><code><strong>Clock</strong></code></td>
						<td>A clock providing access to the current instant, date and time using a time-zone.</td>
					</tr>
					<tr>
						<td><code><strong>Duration</strong></code></td>
						<td>A time-based amount of time, such as '34.5 seconds'.</td>
					</tr>
					<tr>
						<td><code><strong>Instant</strong></code></td>
						<td>An instantaneous point on the time-line.</td>
					</tr>
					<tr>
						<td><code><strong>LocalDate</strong></code></td>
						<td>A date without a time-zone in the ISO-8601 calendar system, such as 2007-12-03.</td>
					</tr>
					<tr>
						<td><code><strong>LocalDateTime</strong></code></td>
						<td>A date-time without a time-zone in the ISO-8601 calendar system, such as 2007-12-03T10:15:30.</td>
					</tr>
					<tr>
						<td><code><strong>LocalTime</strong></code></td>
						<td>A time without a time-zone in the ISO-8601 calendar system, such as 10:15:30.</td>
					</tr>
					<tr>
						<td><code><strong>MonthDay</strong></code></td>
						<td>A month-day in the ISO-8601 calendar system, such as --12-03.</td>
					</tr>
					<tr>
						<td><code><strong>OffsetDateTime</strong></code></td>
						<td>A date-time with an offset from UTC/Greenwich in the ISO-8601 calendar system, such as 2007-12-03T10:15:30+01:00.</td>
					</tr>
					<tr>
						<td><code><strong>OffsetTime</strong></code></td>
						<td>A time with an offset from UTC/Greenwich in the ISO-8601 calendar system, such as 10:15:30+01:00.</td>
					</tr>
					<tr>
						<td><code><strong>Period</strong></code></td>
						<td>A date-based amount of time in the ISO-8601 calendar system, such as '2 years, 3 months and 4 days'.</td>
					</tr>
					<tr>
						<td><code><strong>Year</strong></code></td>
						<td>A year in the ISO-8601 calendar system, such as 2007.</td>
					</tr>
					<tr>
						<td><code><strong>YearMonth</strong></code></td>
						<td>A year-month in the ISO-8601 calendar system, such as 2007-12.</td>
					</tr>
					<tr>
						<td><code><strong>ZonedDateTime</strong></code></td>
						<td>A date-time with a time-zone in the ISO-8601 calendar system, such as 2007-12-03T10:15:30+01:00 Europe/Paris.</td>
					</tr>
					<tr>
						<td><code><strong>ZoneId</strong></code></td>
						<td>A time-zone ID, such as Europe/Paris.</td>
					</tr>
					<tr>
						<td><code><strong>ZoneOffset</strong></code></td>
						<td>A time-zone offset from Greenwich/UTC, such as +02:00.</td>
					</tr>
					</tbody>
				</table>
				<div style="font-size: 60%; text-align: right;">
					Source: <a href="https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html">Oracle Java SE 8 documentation</a>
				</div>
			</section>
		</section>
		<section>
			<section data-background-gradient="var(--kotlin-gradient)">
				<h2>LocalDate</h2>
				<em>java.time</em>
			</section>
			<section>
				<h3>LocalDate</h3>
				<p>
					<strong>LocalDate</strong> allows us to work with dates without time zone. Let's have a look ...
				</p>
				<pre>
					Get today's date
					<code data-trim data-noescape data-line-numbers class="hljs kotlin">
						LocalDate dateNow = LocalDate.now();
					</code>
				</pre>

				<pre>
					Get a specific date
					<code data-trim data-noescape data-line-numbers class="hljs kotlin">
						LocalDate date = LocalDate.of(2024, 2, 20);
					</code>
				</pre>

				<pre>
					Parse an ISO-8601 format date
					<code data-trim data-noescape data-line-numbers class="hljs kotlin">
						LocalDate date = LocalDate.parse("2024-02-20");
					</code>
				</pre>

				<pre>
					Manipulate dates
					<code data-trim data-noescape data-line-numbers class="hljs kotlin">
						LocalDate tomorrow = LocalDate.now().plusDays(1);
						LocalDate nextPeriod = LocalDate.now().plusMonths(3);
						LocalDate lastYear = LocalDate.now().minusYears(1);
					</code>
				</pre>
				<pre>
					Extract information about date
					<code data-trim data-noescape data-line-numbers class="hljs kotlin">
						LocalDate dateNow = LocalDate.now();

						// get parts of the date
						int dayOfYear = dateNow.getDayOfYear();
						int dayOfMonth = dateNow.getDayOfMonth();
						DayOfWeek dayOfWeek = dateNow.getDayOfWeek();

						// or even leap year
						boolean leapYear = dateNow.isLeapYear();
					</code>
				</pre>
				<pre>
					Compare dates
					<code data-trim data-noescape data-line-numbers class="hljs kotlin">
						boolean isBefore = LocalDate.now().isBefore(LocalDate.parse("2024-03-08"));
						boolean isAfter = LocalDate.now().isAfter(LocalDate.parse("2024-02-19"));
						boolean isEqual = LocalDate.now().isEqual(LocalDate.parse("2024-02-20"));
					</code>
				</pre>
			</section>
		</section>
		<section>
			<section data-background-gradient="var(--kotlin-gradient)">
				<h2>LocalDateTime</h2>
				<em>java.time</em>
			</section>
			<section>
				<h3>LocalDateTime</h3>
				<p>
					<strong>LocalDateTime</strong> works the same way, but it also adds time component ...
				</p>
				<pre>
					Examples
					<code data-trim data-noescape data-line-numbers class="hljs kotlin">
						LocalDateTime dateTimeNow = LocalDateTime.now();
						System.out.println(dateTimeNow); // prints local date and time, for example 2024-01-14T08:08:44.548746

						int year = dateTimeNow.getYear();
						Month month = dateTimeNow.getMonth();
						int monthValue = dateTimeNow.getMonthValue();
						DayOfWeek dayOfWeek = dateTimeNow.getDayOfWeek();
						int day = dateTimeNow.getDayOfMonth();
						int hour = dateTimeNow.getHour();
						int minute = dateTimeNow.getMinute();
						int second = dateTimeNow.getSecond();

						LocalDateTime dateTime = LocalDateTime.parse("2024-01-14T08:08:44.548746");
						boolean isAfter = dateTimeNow.isAfter(dateTime);
					</code>
				</pre>
				<pre>
					Convert LocalDate to LocalDateTime
					<code data-trim data-noescape data-line-numbers class="hljs kotlin">
						LocalDate dateNow = LocalDate.now();
						LocalDateTime dateTimeNow1 = dateNow.atTime(LocalTime.now());
						LocalDateTime dateTimeNow2 = dateNow.atTime(LocalTime.parse("08:08:44"));
					</code>
				</pre>
			</section>
		</section>
		<section>
			<section data-background-gradient="var(--kotlin-gradient)">
				<h2>ZonedDateTime</h2>
				<em>java.time</em>
			</section>
			<section>
				<h3>ZonedDateTime</h3>
				<p>
					<strong>ZonedDateTime</strong> adds time zones ...
				</p>
				<pre>
					Examples
					<code data-trim data-noescape data-line-numbers class="hljs kotlin">
						ZonedDateTime zonedDateTimeNow = ZonedDateTime.now();
						System.out.println(zonedDateTimeNow); // 2024-01-14T09:44:26.147022+01:00[Europe/Prague]
						System.out.println(zonedDateTimeNow.toLocalDateTime()); // 2024-01-14T09:44:26.147022
					</code>
				</pre>
				<pre>
					Convert LocalDateTime to ZonedDateTime
					<code data-trim data-noescape data-line-numbers class="hljs kotlin">
						ZonedDateTime zonedDateTime = LocalDateTime.now().atZone(ZoneId.of("Asia/Bangkok"));
						System.out.println(zonedDateTime); // 2024-01-14T09:44:26.150263+07:00[Asia/Bangkok]
					</code>
				</pre>

				<pre>
					Convert between zones using instant
					<code data-trim data-noescape data-line-numbers class="hljs kotlin">
						ZonedDateTime zonedDateTimeNow = ZonedDateTime.now();
						System.out.println(zonedDateTimeNow); // 2024-01-14T09:44:26.147022+01:00[Europe/Prague]

						ZonedDateTime zonedDateTime2 = zonedDateTimeNow.withZoneSameInstant(ZoneId.of("Asia/Bangkok"));
						System.out.println(zonedDateTime2); // 2024-01-14T15:44:26.147022+07:00[Asia/Bangkok]
					</code>
				</pre>
			</section>
		</section>
		<section>
			<section data-background-gradient="var(--kotlin-gradient)">
				<h2>Instant</h2>
				<em>java.time</em>
			</section>
			<section>
				<h3>Instant</h3>
				<p>
					To work with zoned date and time correctly, we need to understand the concept of an instant.<br />
				</p>
				<ul style="font-size: 80%">
					<li>Instant represents an instantaneous point on the time-line.</li>
					<li>Instant stores date and time information in UTC (Coordinated Universal Time) format.</li>
					<li>Instant doesn't contain any information about time zones and doesn't take daylight saving time into account.</li>
					<li>Instant is useful for applications requiring a high degree of time precision.</li>
					<li>You can easily convert Instant to DateTime, LocalDateTime, ZonedDate ZonedDateTime, but to convert to Instant, you need to specify time zone. </li>
				</ul>
				<pre>
					<code data-trim data-noescape data-line-numbers class="hljs kotlin">
						Instant instantNow = Instant.now();
						System.out.println(instantNow); // 2024-01-14T09:01:00.878577Z

						LocalDateTime localDateTime = LocalDateTime.now();
						System.out.println(localDateTime); // 2024-01-14T10:01:00.896618

						ZoneId zone = ZoneId.of("Asia/Bangkok");
						ZoneOffset zoneOffset = zone.getRules().getOffset(localDateTime);

						Instant instant = localDateTime.toInstant(zoneOffset);
						System.out.println(instant); // 2024-01-14T03:01:00.896618Z
					</code>
				</pre>
				<pre>
					Or you can use hard-coded offset, which will however possibly not reflect daylight saving time.
					<code data-trim data-noescape data-line-numbers class="hljs kotlin">
        				System.out.println(localDateTime.toInstant(ZoneOffset.ofHours(6))); // 2024-01-14T04:01:00.896618Z
					</code>
				</pre>
			</section>
		</section>
		<section>
			<section data-background-gradient="var(--kotlin-gradient)">
				<h2>Duration</h2>
				<em>java.time</em>
			</section>
			<section>
				<h3>Duration</h3>
				<p>
					Helps us measure time amount between instants.<br />
				</p>
				<pre>
					<code data-trim data-noescape data-line-numbers class="hljs kotlin">
						ZonedDateTime from = ZonedDateTime.parse("2024-01-14T09:44:26.147022+01:00[Europe/Prague]");
						ZonedDateTime to = ZonedDateTime.now();

						Duration duration = Duration.between(from, to);

						System.out.println(duration); // PT21M15.740325S
						System.out.println(duration.getSeconds()); //1275
						System.out.println(duration.getNano()); // 740325000
					</code>
				</pre>
			</section>
		</section>
		<section>
			<section data-background-gradient="var(--kotlin-gradient)">
				<h2>Practice</h2>
			</section>
		</section>
	</div>
</div>

<script src="dist/reveal.js"></script>
<script src="plugin/notes/notes.js"></script>
<script src="plugin/markdown/markdown.js"></script>
<script src="plugin/highlight/highlight.js"></script>
<script>
	// More info about initialization & config:
	// - https://revealjs.com/initialization/
	// - https://revealjs.com/config/
	Reveal.initialize({
		hash: true,

		// Learn about plugins: https://revealjs.com/plugins/
		plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
	});
</script>
</body>
</html>
